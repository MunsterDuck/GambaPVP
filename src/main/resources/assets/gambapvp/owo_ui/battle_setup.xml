<owo-ui xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/wisp-forest/owo-lib/1.20/owo-ui.xsd">
    <components>
        <!-- Root container -->
        <flow-layout direction="vertical" id="root">
            <children>
                <!-- Main content panel -->
                <flow-layout direction="vertical" id="main-panel">
                        <children>
                            <!-- Title label -->
                            <label id="title-label">
                                <text>Battle Setup</text>
                                <color>#FFFFFF</color>
                                <shadow>true</shadow>
                            </label>

                            <!-- Content container that changes per step -->
                            <flow-layout direction="vertical" id="content-container">
                                <children>
                                    <!-- Kit Selection Step (Step 0) -->
                                    <flow-layout direction="vertical" id="kit-selection-step">
                                        <children>
                                            <!-- Scrollable kit grid -->
                                            <scroll direction="vertical" id="kit-scroll">
                                                <flow-layout id="kit-grid" direction="vertical">
                                                    <children>
                                                        <!-- Kits will be added dynamically -->
                                                    </children>
                                                    <horizontal-alignment>center</horizontal-alignment>
                                                    <sizing>
                                                        <horizontal method="content">0</horizontal>
                                                        <vertical method="content">0</vertical>
                                                    </sizing>
                                                    <gap>1</gap>
                                                </flow-layout>
                                                <surface>
                                                    <outline>#000000</outline>
                                                </surface>
                                                <padding>
                                                    <all>2</all>
                                                </padding>
                                                <sizing>
                                                    <vertical method="fixed">138</vertical>
                                                    <horizontal method="fixed">200</horizontal>
                                                </sizing>
                                            </scroll>
                                        </children>
                                        <horizontal-alignment>center</horizontal-alignment>
                                    </flow-layout>

                                    <!-- Rules Setup Step (Step 1) -->
                                    <flow-layout direction="vertical" id="rules-step">
                                        <children>
                                            <flow-layout id="rules-grid" direction="vertical">
                                                <children>
                                                    <!-- Win Conditions Go Here -->
                                                </children>
                                                <horizontal-alignment>center</horizontal-alignment>
                                                <sizing>
                                                    <horizontal method="content">0</horizontal>
                                                    <vertical method="content">0</vertical>
                                                </sizing>
                                                <gap>1</gap>
                                                <surface>
                                                    <outline>#000000</outline>
                                                </surface>
                                                <padding>
                                                    <all>2</all>
                                                </padding>
                                            </flow-layout>

                                            <flow-layout direction="horizontal" id="keep-inventory-button">
                                                <children>
                                                    <checkbox id="keep-inventory-checkbox">
                                                        <active>false</active>
                                                        <sizing>
                                                            <horizontal method="fixed">20</horizontal>
                                                            <vertical method="fixed">20</vertical>
                                                        </sizing>
                                                    </checkbox>
                                                    <label id="keep-inventory-label">
                                                        <text>Keep Inventory</text>
                                                        <color>#FFFFFF</color>
                                                        <shadow>true</shadow>
                                                    </label>
                                                </children>
                                                <gap>5</gap>
                                                <padding>
                                                    <all>5</all>
                                                </padding>
                                                <surface>
                                                    <panel dark="false"/>
                                                </surface>
                                                <horizontal-alignment>left</horizontal-alignment>
                                                <vertical-alignment>center</vertical-alignment>
                                                <sizing>
                                                    <horizontal method="fixed">192</horizontal>
                                                    <vertical method="content">0</vertical>
                                                </sizing>
                                            </flow-layout>
                                        </children>
                                        <gap>5</gap>
                                        <horizontal-alignment>center</horizontal-alignment>
                                    </flow-layout>

                                    <!-- Player Selection Step (Step 2) -->
                                    <flow-layout direction="vertical" id="player-selection-step">
                                        <children>
                                            <scroll direction="vertical" id="player-list-scroll">
                                                <flow-layout direction="vertical" id="player-list">
                                                    <children>
                                                        <flow-layout direction="vertical">
                                                            <children>
                                                                <label>
                                                                    <text>No Players Found</text>
                                                                    <color>#FFFFFF</color>
                                                                    <shadow>true</shadow>
                                                                </label>
                                                            </children>
                                                            <padding>
                                                                <vertical>10</vertical>
                                                            </padding>
                                                            <horizontal-alignment>center</horizontal-alignment>
                                                            <sizing>
                                                                <vertical method="content">0</vertical>
                                                                <horizontal method="fixed">200</horizontal>
                                                            </sizing>
                                                        </flow-layout>
                                                        <!-- Players will be added dynamically -->
                                                    </children>
                                                    <horizontal-alignment>center</horizontal-alignment>
                                                </flow-layout>
                                                <surface>
                                                    <outline>#000000</outline>
                                                </surface>
                                                <padding>
                                                    <all>2</all>
                                                </padding>
                                                <sizing>
                                                    <vertical method="fixed">150</vertical>
                                                    <horizontal method="fixed">200</horizontal>
                                                </sizing>
                                            </scroll>
                                        </children>
                                        <gap>5</gap>
                                        <horizontal-alignment>center</horizontal-alignment>
                                    </flow-layout>

                                    <!-- Wager Step (Step 3) -->
                                    <flow-layout direction="vertical" id="wager-step">
                                        <children>
                                            <label>
                                                <text>Add wager items (optional)</text>
                                                <color>#FFFF00</color>
                                            </label>

                                            <button id="add-wager-button">
                                                <text>Add Wager Items (Coming Soon)</text>
                                            </button>

                                            <button id="send-request-button">
                                                <text>Send Battle Request</text>
                                            </button>
                                        </children>
                                        <horizontal-alignment>center</horizontal-alignment>
                                    </flow-layout>
                                </children>
                                <horizontal-alignment>center</horizontal-alignment>
                            </flow-layout>

                            <flow-layout direction="horizontal">
                                <children>
                                    <button id="back-button">
                                        <text>Back</text>
                                        <renderer>
                                            <flat color="dark-gray" hovered-color="gray" disabled-color="black"/>
                                        </renderer>
                                    </button>

                                    <button id="next-button">
                                        <text>Next</text>
                                        <active>false</active>
                                        <renderer>
                                            <flat color="dark-gray" hovered-color="gray" disabled-color="black"/>
                                        </renderer>
                                    </button>
                                </children>
                                <gap>4</gap>
                            </flow-layout>
                        </children>
                        <gap>5</gap>
                        <padding>
                            <all>10</all>
                        </padding>
                        <horizontal-alignment>center</horizontal-alignment>
                        <vertical-alignment>center</vertical-alignment>
                        <surface>
                            <panel dark="true"/>
                        </surface>
                        <sizing>
                            <horizontal method="content">0</horizontal>
                            <vertical method="content">0</vertical>
                        </sizing>
                    </flow-layout>
            </children>
            <gap>5</gap>
            <vertical-alignment>center</vertical-alignment>
            <horizontal-alignment>center</horizontal-alignment>
            <surface>
                <vanilla-translucent/>
            </surface>
        </flow-layout>
    </components>
    <templates>
        <template name="win-button">
            <flow-layout direction="horizontal">
                <children>
                    <checkbox id="win-checkbox">
                        <active>false</active>
                        <sizing>
                            <horizontal method="fixed">20</horizontal>
                            <vertical method="fixed">20</vertical>
                        </sizing>
                    </checkbox>

                    <label id="win-label">
                        <text>First to {{wins}}</text>
                        <color>#FFFFFF</color>
                        <shadow>true</shadow>
                    </label>
                </children>
                <gap>5</gap>
                <padding>
                    <all>5</all>
                </padding>
                <surface>
                    <panel dark="false"/>
                </surface>
                <horizontal-alignment>left</horizontal-alignment>
                <vertical-alignment>center</vertical-alignment>
                <sizing>
                    <horizontal method="fixed">192</horizontal>
                    <vertical method="content">0</vertical>
                </sizing>
            </flow-layout>
        </template>
        <template name="player-button">
            <flow-layout direction="horizontal">
                <children>
                    <checkbox id="player-checkbox">
                        <active>false</active>
                        <sizing>
                            <horizontal method="fixed">20</horizontal>
                            <vertical method="fixed">20</vertical>
                        </sizing>
                    </checkbox>

                    <stack-layout id="player-face-stack">
                        <children>
                            <!-- Skin dynamically shown -->
                        </children>
                        <sizing>
                            <horizontal method="fixed">20</horizontal>
                            <vertical method="fixed">20</vertical>
                        </sizing>
                    </stack-layout>

                    <label id="player-name">
                        <text>{{player-name}}</text>
                        <color>#FFFFFF</color>
                        <shadow>true</shadow>
                    </label>
                </children>
                <gap>5</gap>
                <padding>
                    <all>5</all>
                </padding>
                <surface>
                    <panel dark="false"/>
                </surface>
                <horizontal-alignment>left</horizontal-alignment>
                <vertical-alignment>center</vertical-alignment>
                <sizing>
                    <horizontal method="fixed">192</horizontal>
                    <vertical method="content">0</vertical>
                </sizing>
            </flow-layout>
        </template>
        <template name="kit-button">
            <flow-layout direction="horizontal">
                <children>
                    <item id="kit-item">
                        <stack>{{kit-stack}}</stack>
                    </item>
                    <label id="kit-name-label">
                        <text>{{kit-name}}</text>
                        <color>#FFFFFF</color>
                        <shadow>true</shadow>
                    </label>
                </children>
                <cursor-style>hand</cursor-style>
                <gap>5</gap>
                <padding>
                    <all>5</all>
                </padding>
                <surface>
                    <panel dark="false"/>
                </surface>
                <horizontal-alignment>left</horizontal-alignment>
                <vertical-alignment>center</vertical-alignment>
                <sizing>
                    <horizontal method="fixed">192</horizontal>
                    <vertical method="content">0</vertical>
                </sizing>
            </flow-layout>
        </template>
    </templates>
</owo-ui>